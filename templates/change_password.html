{% extends "base.html" %}
{% block title %}Change Password{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6">
    <h2 class="mb-4">Change Password</h2>
    <form method="post">
      <div class="mb-3">
        <label class="form-label">Current Password:</label>
        <div class="input-group">
          <input class="form-control" type="password" name="current_password" required>
          <span class="input-group-text" style="cursor: pointer;">
            <i class="bi bi-eye"></i>
          </span>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">New Password:</label>
        <div class="input-group">
          <input class="form-control" type="password" name="new_password" required>
          <span class="input-group-text" style="cursor: pointer;">
            <i class="bi bi-eye"></i>
          </span>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Confirm New Password:</label>
        <div class="input-group">
          <input class="form-control" type="password" name="confirm_password" required>
          <span class="input-group-text" style="cursor: pointer;">
            <i class="bi bi-eye"></i>
          </span>
        </div>
      </div>
      <button type="submit" class="btn btn-primary">Change Password</button>
    </form>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const passwordFields = document.querySelectorAll('input[type="password"]');
    passwordFields.forEach(function(passwordField) {
      const parent = passwordField.parentNode;
      const togglePassword = parent.querySelector('.input-group-text');
      const toggleIcon = togglePassword.querySelector('i');
      togglePassword.addEventListener('click', function() {
        const isPassword = passwordField.type === 'password';
        passwordField.type = isPassword ? 'text' : 'password';
        toggleIcon.classList.toggle('bi-eye');
        toggleIcon.classList.toggle('bi-eye-slash');
      });
    });
  });
</script>
{% endblock %}
